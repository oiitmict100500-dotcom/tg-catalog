# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. **–í Vercel:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç ‚Üí **Settings** ‚Üí **Environment Variables**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:
     - `DATABASE_URL` (–¥–ª—è Neon/–≤–Ω–µ—à–Ω–∏—Ö –ë–î)
     - –ò–õ–ò `POSTGRES_URL` (–¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ Vercel Postgres)
   - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `postgresql://` –∏–ª–∏ `postgres://`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π:
     - ‚úÖ Production
     - ‚úÖ Preview
     - ‚úÖ Development

## –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Deployments**
   - –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
   - –ù–∞–∂–º–∏—Ç–µ **...** (—Ç—Ä–∏ —Ç–æ—á–∫–∏) ‚Üí **Redeploy**
   - –ò–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ GitHub (–ª—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ)

2. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è:**
   - –î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ –¥–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è
   - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **Ready**

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Functions** ‚Üí `/api/resources/submit`
   - –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ —Å –º–µ—Ç–∫–∞–º–∏:
     - `‚úÖ Connected to PostgreSQL via pg` (–¥–ª—è Neon/–≤–Ω–µ—à–Ω–∏—Ö –ë–î)
     - –ò–õ–ò `‚úÖ Using Vercel Postgres` (–¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ Vercel Postgres)
     - `‚úÖ Database connection verified`
     - `‚úÖ Database tables initialized`

2. **–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏:**
   - `‚ùå Database connection error` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ connection string
   - `‚ùå Query error` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ
   - `No database connection string found` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞—è–≤–∫—É:**
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞ –Ω–∞ —Å–∞–π—Ç–µ
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
   - –í **Functions** ‚Üí `/api/resources/submit`
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
     - `‚ûï addSubmission (PostgreSQL):`
     - `‚úÖ Submission saved to PostgreSQL:`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏:**
   - –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ú–æ–¥–µ—Ä–∞—Ü–∏—è –∑–∞—è–≤–æ–∫**
   - –ó–∞—è–≤–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ

## –®–∞–≥ 5: –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏:**
   - –í **Functions** ‚Üí `/api/moderation/pending`
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
     - `üìä Storage info (PostgreSQL):`
     - `üîç getPendingSubmissions (PostgreSQL):`
     - `üìã Pending submissions result:`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏:**
   - –í –ª–æ–≥–∞—Ö `/api/resources/submit` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `status: 'pending'`
   - –í –ª–æ–≥–∞—Ö `/api/moderation/pending` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏:
     - `üì§ Loading submissions from API...`
     - `üì• API response:`

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "No database connection string found"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DATABASE_URL` –∏–ª–∏ `POSTGRES_URL` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ Vercel
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ connection string –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–∞ –Ω–∞ Neon
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ IP –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (–¥–ª—è Neon –æ–±—ã—á–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ IP)

### –ü—Ä–æ–±–ª–µ–º–∞: "relation 'moderation_submissions' does not exist"
**–†–µ—à–µ–Ω–∏–µ:**
- –¢–∞–±–ª–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –µ—â–µ —Ä–∞–∑
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞—è–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –Ω–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `/api/moderation/pending`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ = 'pending'
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –∫–∞–∫ –∞–¥–º–∏–Ω
- –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏

## –£—Å–ø–µ—à–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ó–∞—è–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL
- ‚úÖ –ó–∞—è–≤–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–∞—Ö Vercel
- ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏ —Ä–µ—à–µ–Ω–∞

