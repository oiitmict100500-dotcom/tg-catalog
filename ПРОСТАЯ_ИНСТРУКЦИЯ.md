# Простая инструкция: как исправить кнопку Telegram

## Проблема

Кнопка "Войти через Telegram" не работает, потому что в настройках Vercel указан неправильный адрес backend.

## Что нужно сделать (3 простых шага)

### Шаг 1: Откройте Vercel

1. Откройте в браузере: https://vercel.com
2. Войдите в свой аккаунт
3. Вы увидите список ваших проектов

### Шаг 2: Найдите проект frontend

1. Найдите проект, который называется примерно так:
   - `tg-catalog`
   - `tg-catalog-one`
   - или похожее название
2. Нажмите на этот проект

### Шаг 3: Исправьте настройку

1. В верхней части страницы нажмите на вкладку **Settings**
2. В левом меню нажмите на **Environment Variables**
3. Найдите переменную с названием `VITE_API_URL`
4. Нажмите на нее (или на иконку карандаша для редактирования)
5. **УДАЛИТЕ** текущее значение: `https://tg-catalog-one.vercel.app`
6. **ВВЕДИТЕ** одно из значений ниже (в зависимости от того, где у вас backend):

#### Если backend на Railway:
```
https://ваш-проект.railway.app
```
(замените `ваш-проект` на реальное название вашего проекта на Railway)

#### Если backend на Render:
```
https://ваш-проект.onrender.com
```
(замените `ваш-проект` на реальное название вашего проекта на Render)

#### Если backend на Vercel (другой проект):
```
https://ваш-backend-проект.vercel.app
```
(замените на реальный URL вашего backend проекта на Vercel)

#### Если backend еще НЕ развернут:
**Сначала нужно развернуть backend!** См. раздел "Если backend не развернут" ниже.

7. Убедитесь, что выбраны все окружения:
   - ☑ Production
   - ☑ Preview
   - ☑ Development
8. Нажмите **Save** (Сохранить)

### Шаг 4: Подождите

1. Vercel автоматически перезапустит ваш сайт
2. Подождите 1-2 минуты
3. Обновите страницу сайта (F5)
4. Кнопка должна заработать!

---

## Если backend еще НЕ развернут

Если у вас нет развернутого backend сервера, нужно сначала его развернуть.

### Вариант 1: Развернуть на Railway (самый простой)

1. Зарегистрируйтесь на https://railway.app (можно через GitHub)
2. Нажмите **New Project**
3. Выберите **Deploy from GitHub repo**
4. Выберите ваш репозиторий с backend
5. Railway автоматически развернет backend
6. Подождите 2-3 минуты
7. Откройте проект → **Settings** → **Networking**
8. Скопируйте **Public Domain** (например: `tg-catalog-backend.railway.app`)
9. Используйте этот URL в шаге 3 выше: `https://tg-catalog-backend.railway.app`

### Вариант 2: Развернуть на Render

1. Зарегистрируйтесь на https://render.com
2. Нажмите **New +** → **Web Service**
3. Подключите ваш репозиторий с backend
4. Render развернет backend
5. Скопируйте URL сервиса
6. Используйте этот URL в шаге 3 выше

---

## Проверка

После исправления:

1. Откройте сайт: https://tg-catalog-one.vercel.app
2. Откройте консоль браузера (нажмите F12)
3. **НЕ должно быть** ошибки: "VITE_API_URL указывает на frontend домен!"
4. Нажмите на кнопку "Войти через Telegram"
5. Должен появиться виджет Telegram
6. После нажатия на виджет должна произойти авторизация

---

## Если все еще не работает

1. Проверьте, что backend действительно развернут и работает
2. Проверьте, что в backend настроен токен бота (см. файл `НАСТРОЙКА_TELEGRAM_BOT.md`, Шаг 2)
3. Проверьте, что домен настроен в BotFather (см. файл `НАСТРОЙКА_TELEGRAM_BOT.md`, Шаг 1)

---

## Важно помнить

- `VITE_API_URL` = адрес **BACKEND** (не frontend!)
- Frontend = `tg-catalog-one.vercel.app` (это ваш сайт)
- Backend = должен быть на другом домене (Railway, Render, или другой проект Vercel)


